
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
  [fullScreen]="true"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>

<app-deviceform [message]="message" [mode]=mode> </app-deviceform>
<!--
<div class="page-content-wrapper dashboard">
  <div class="w-auto chat-message-component w-100 inbox-container">
      <div class="d-flex main-body-wrapper">
          <div class="agent-page-main-content p-0">
              <form [formGroup]="deviceForm" class="user-detail-form">

                  <div class="query-container console-body-wrapper form-body-wrap perfect-scrollbar"
                      data-scrollbar="data-scrollbar">
                      <div class="row wider-container pt-5">
                          <div class="col-lg-12">
                              <div class="team-detail-form-box mb-5">

                                  <h6>Device Information</h6>
                                  <div class="border mb-4"></div>
                                  <div class="row align-items-start">
                                      <div class="floating-item mb-4 col-6">
                                          <div [ngClass]="{'was-validated' : deviceForm.get('Name')!.valid && deviceForm.get('Name')!.touched}"
                                              class="form-floating mb-2">
                                              <input [ngClass]="{'is-invalid' : (deviceForm.get('Name')!.errors && (deviceForm.get('Name')!.touched ||
                                                                              deviceForm.get('Name')!.dirty))}"
                                                  class="form-control" id="lastt-name" placeholder="Device1"
                                                  value="Device1" formControlName="Name">
                                              <label for="lastt-name">Name<sup class="radical">*</sup></label>
                                              <div class="invalid-feedback" *ngIf="(deviceForm.get('Name')!.errors && (deviceForm.get('Name')!.touched ||
                                                                        deviceForm.get('Name')!.dirty))">
                                                  <div
                                                      *ngIf="deviceForm.get('Name')!.errors?.['maxlength'] || deviceForm.get('Name')!.errors?.['minlength']">
                                                      Device name must be grater than 1 character and less than 25
                                                      characters!
                                                  </div>
                                                  <div *ngIf="deviceForm.get('Name')!.errors?.['required']">
                                                      Device Name is required!
                                                  </div>

                                              </div>
                                              <div class="valid-feedback"
                                                  *ngIf="deviceForm.get('Name')!.valid && deviceForm.get('Name')!.touched">

                                                  Looks Good!
                                              </div>
                                          </div>
                                      </div>
                                      <div class="floating-item mb-4 col-6">
                                          <div [ngClass]="{'was-validated' : deviceForm.get('Make')!.valid && deviceForm.get('Make')!.touched}"
                                              class="form-floating mb-2">
                                              <select [ngClass]="{'is-invalid' : (deviceForm.get('Make')!.errors && (deviceForm.get('Make')!.touched ||
                                          deviceForm.get('Make')!.dirty))}" id="Make"
                                                  class="form-select multi-select" aria-label="Floating label select"
                                                  formControlName="Make">
                                                  <option disabled>Select Device</option>
                                                  <option>HikeVision</option>
                                                  <option>ZK</option>
                                              </select>
                                              <label for="floatingSelect"> Make<sup class="radical">*</sup></label>
                                              <div class="invalid-feedback" *ngIf="(deviceForm.get('Make')!.errors && (deviceForm.get('Make')!.touched ||
                                                                        deviceForm.get('Make')!.dirty))">

                                                  <div *ngIf="deviceForm.get('Make')!.errors?.['required']">
                                                      Device Make is required!
                                                  </div>

                                              </div>
                                              <div class="valid-feedback"
                                                  *ngIf="deviceForm.get('Make')!.valid && deviceForm.get('Make')!.touched">

                                                  Looks Good!
                                              </div>
                                          </div>
                                      </div>
                                      <div class="floating-item mb-4 col-6">
                                          <div [ngClass]="{'was-validated' : deviceForm.get('Modal')!.valid && deviceForm.get('Modal')!.touched}"
                                              class="form-floating mb-2">
                                              <select [ngClass]="{'is-invalid' : (deviceForm.get('Modal')!.errors && (deviceForm.get('Modal')!.touched ||
                                          deviceForm.get('Modal')!.dirty))}" id="Modal"
                                                  class="form-select multi-select" aria-label="Floating label select"
                                                  formControlName="Modal">
                                                  <option>PTZ Thermal Camera</option>
                                                  <option>Cooled thermal Camera</option>
                                              </select>
                                              <label for="floatingSelect"> Modal<sup class="radical">*</sup>
                                              </label>
                                              <div class="invalid-feedback" *ngIf="(deviceForm.get('Modal')!.errors && (deviceForm.get('Modal')!.touched ||
                                                                        deviceForm.get('Modal')!.dirty))">

                                                  <div *ngIf="deviceForm.get('Modal')!.errors?.['required']">
                                                      Device Modal is required!
                                                  </div>

                                              </div>
                                              <div class="valid-feedback"
                                                  *ngIf="deviceForm.get('Modal')!.valid && deviceForm.get('Modal')!.touched">

                                                  Looks Good!
                                              </div>
                                          </div>
                                      </div>
                                      <div class="floating-item mb-4 col-6">
                                        <div [ngClass]="{'was-validated' : deviceForm.get('SerialNo')!.valid && deviceForm.get('SerialNo')!.touched}"
                                            class="form-floating mb-2">
                                            <input [ngClass]="{'is-invalid' : (deviceForm.get('SerialNo')!.errors && (deviceForm.get('SerialNo')!.touched ||
                                                                            deviceForm.get('SerialNo')!.dirty))}"
                                                class="form-control" id="lastt-name" placeholder="Serial No"
                                                value="" formControlName="SerialNo">
                                            <label for="lastt-SerialNo">SerialNo<sup class="radical">*</sup></label>
                                            <div class="invalid-feedback" *ngIf="(deviceForm.get('SerialNo')!.errors && (deviceForm.get('SerialNo')!.touched ||
                                                                      deviceForm.get('SerialNo')!.dirty))">
                                                <div
                                                    *ngIf="deviceForm.get('SerialNo')!.errors?.['maxlength'] || deviceForm.get('SerialNo')!.errors?.['minlength']">
                                                    Device SerialNo must be grater than 1 character and less than 25
                                                    characters!
                                                </div>
                                                <div *ngIf="deviceForm.get('SerialNo')!.errors?.['required']">
                                                    Device Serial No is required!
                                                </div>

                                            </div>
                                            <div class="valid-feedback"
                                                *ngIf="deviceForm.get('SerialNo')!.valid && deviceForm.get('SerialNo')!.touched">

                                                Looks Good!
                                            </div>
                                        </div>
                                    </div>
                                      <div class="floating-item mb-4 col-12">
                                          <label class="d-block mb-2">Device Type</label>
                                          <div class="form-check form-check-inline">
                                              <input class="form-check-input" type="checkbox"
                                                  name="inlinecheckboxOptions" id="face" value="option1"
                                                  formControlName="is_Face">
                                              <label class="form-check-label" for="face">Face</label>
                                          </div>
                                          <div class="form-check form-check-inline">
                                              <input class="form-check-input" type="checkbox"
                                                  name="inlinecheckboxOptions" id="bio" value="option2"
                                                  formControlName="is_Bio">
                                              <label class="form-check-label" for="bio">Bio</label>
                                          </div>
                                          <div class="form-check form-check-inline">
                                              <input class="form-check-input" type="checkbox"
                                                  name="inlinecheckboxOptions" id="rfid" value="option3"
                                                  formControlName="is_RFID">
                                              <label class="form-check-label" for="rfid">RFID</label>
                                          </div>

                                      </div>
                                  </div>

                                  <h6>Device Preferences</h6>
                                  <div class="border mb-4"></div>
                                  <div class="row">
                                    <div class="floating-item mb-4 col-6">
                                      <div [ngClass]="{'was-validated' : deviceForm.get('MachineNo')!.valid && deviceForm.get('MachineNo')!.touched}"
                                          class="form-floating mb-2">
                                          <input [ngClass]="{'is-invalid' : (deviceForm.get('MachineNo')!.errors && (deviceForm.get('MachineNo')!.touched ||
                                                                          deviceForm.get('MachineNo')!.dirty))}"
                                              class="form-control" id="lastt-name" placeholder="Serial No"
                                              value="" formControlName="MachineNo">
                                          <label for="lastt-MachineNo">MachineNo<sup class="radical">*</sup></label>
                                          <div class="invalid-feedback" *ngIf="(deviceForm.get('MachineNo')!.errors && (deviceForm.get('MachineNo')!.touched ||
                                                                    deviceForm.get('MachineNo')!.dirty))">
                                              <div
                                                  *ngIf="deviceForm.get('MachineNo')!.errors?.['maxlength'] || deviceForm.get('MachineNo')!.errors?.['minlength']">
                                                  Device MachineNo must be grater than 1 character and less than 25
                                                  characters!
                                              </div>
                                              <div *ngIf="deviceForm.get('MachineNo')!.errors?.['required']">
                                                  Device Serial No is required!
                                              </div>

                                          </div>
                                          <div class="valid-feedback"
                                              *ngIf="deviceForm.get('MachineNo')!.valid && deviceForm.get('MachineNo')!.touched">

                                              Looks Good!
                                          </div>
                                      </div>
                                  </div>
                                  <div class="floating-item mb-4 col-6">
                                    <div [ngClass]="{'was-validated' : deviceForm.get('MachinePassCode')!.valid && deviceForm.get('MachinePassCode')!.touched}"
                                        class="form-floating mb-2">
                                        <input [ngClass]="{'is-invalid' : (deviceForm.get('MachinePassCode')!.errors && (deviceForm.get('MachinePassCode')!.touched ||
                                                                        deviceForm.get('MachinePassCode')!.dirty))}"
                                            class="form-control" id="lastt-name" placeholder="Serial No"
                                            value="" formControlName="MachinePassCode">
                                        <label for="lastt-MachinePassCode">MachinePassCode<sup class="radical">*</sup></label>
                                        <div class="invalid-feedback" *ngIf="(deviceForm.get('MachinePassCode')!.errors && (deviceForm.get('MachinePassCode')!.touched ||
                                                                  deviceForm.get('MachinePassCode')!.dirty))">
                                            <div
                                                *ngIf="deviceForm.get('MachinePassCode')!.errors?.['maxlength'] || deviceForm.get('MachinePassCode')!.errors?.['minlength']">
                                                Device MachinePassCode must be grater than 1 character and less than 25
                                                characters!
                                            </div>
                                            <div *ngIf="deviceForm.get('MachinePassCode')!.errors?.['required']">
                                                Device Serial No is required!
                                            </div>

                                        </div>
                                        <div class="valid-feedback"
                                            *ngIf="deviceForm.get('MachinePassCode')!.valid && deviceForm.get('MachinePassCode')!.touched">

                                            Looks Good!
                                        </div>
                                    </div>
                                </div>
                                <div class="floating-item mb-4 col-6">
                                  <div [ngClass]="{'was-validated' : deviceForm.get('IP')!.valid && deviceForm.get('IP')!.touched}"
                                      class="form-floating mb-2">
                                      <input [ngClass]="{'is-invalid' : (deviceForm.get('IP')!.errors && (deviceForm.get('IP')!.touched ||
                                                                      deviceForm.get('IP')!.dirty))}"
                                          class="form-control" id="lastt-name" placeholder="IP"
                                          value="" formControlName="IP">
                                      <label for="lastt-IP">IP<sup class="radical">*</sup></label>
                                      <div class="invalid-feedback" *ngIf="(deviceForm.get('IP')!.errors && (deviceForm.get('IP')!.touched ||
                                                                deviceForm.get('IP')!.dirty))">
                                          <div
                                              *ngIf="deviceForm.get('IP')!.errors?.['maxlength'] || deviceForm.get('IP')!.errors?.['minlength']">
                                              Device IP must be grater than 1 character and less than 25
                                              characters!
                                          </div>
                                          <div *ngIf="deviceForm.get('IP')!.errors?.['required']">
                                              Device Serial No is required!
                                          </div>

                                      </div>
                                      <div class="valid-feedback"
                                          *ngIf="deviceForm.get('IP')!.valid && deviceForm.get('IP')!.touched">

                                          Looks Good!
                                      </div>
                                  </div>
                              </div>
                              <div class="floating-item mb-4 col-6">
                                <div [ngClass]="{'was-validated' : deviceForm.get('Port')!.valid && deviceForm.get('Port')!.touched}"
                                    class="form-floating mb-2">
                                    <input [ngClass]="{'is-invalid' : (deviceForm.get('Port')!.errors && (deviceForm.get('Port')!.touched ||
                                                                    deviceForm.get('Port')!.dirty))}"
                                        class="form-control" id="lastt-name" placeholder="Port"
                                        value="" formControlName="Port">
                                    <label for="lastt-Port">Port<sup class="radical">*</sup></label>
                                    <div class="invalid-feedback" *ngIf="(deviceForm.get('Port')!.errors && (deviceForm.get('Port')!.touched ||
                                                              deviceForm.get('Port')!.dirty))">
                                        <div
                                            *ngIf="deviceForm.get('Port')!.errors?.['maxlength'] || deviceForm.get('Port')!.errors?.['minlength']">
                                            Device Port must be grater than 1 character and less than 25
                                            characters!
                                        </div>
                                        <div *ngIf="deviceForm.get('Port')!.errors?.['required']">
                                            Device Serial No is required!
                                        </div>

                                    </div>
                                    <div class="valid-feedback"
                                        *ngIf="deviceForm.get('Port')!.valid && deviceForm.get('Port')!.touched">

                                        Looks Good!
                                    </div>
                                </div>
                            </div>
                                      <div class="col-6">
                                          <div class="floating-item mb-4">
                                              <div class="form-floating mb-2">
                                                  <select class="form-control" formControlName="RemoteUrl">
                                                      <option>192.168.5.47:8080</option>
                                                      <option>192.168.5.48:8080</option>
                                                      <option>192.168.5.49:8080</option>
                                                      <option>192.168.5.50:8080</option>
                                                  </select>
                                                  <label for="">Remote Url<sup class="radical">*</sup>
                                                  </label>
                                              </div>
                                          </div>
                                      </div>


                                      <div class="col-6">
                                          <div class="floating-item mb-4">
                                              <div class="form-floating mb-2">
                                                  <input class="form-control" id="devicetoken"
                                                      placeholder="Device Token"
                                                      value="0x0b8823aec3460e1724e795cba45d22e8" formControlName="DeviceToken">
                                                  <label for="devicetoken">Device Token</label>
                                              </div>
                                          </div>
                                      </div>

                                  </div>

                              </div>
                          </div>
                      </div>
                  </div>
                  <footer class="footer">
                      <div class="modal fade" id="cancel-changes" tabindex="-1" aria-labelledby="cancel-changes-Label"
                          aria-hidden="true">

                          <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                  <div class="modal-header">
                                      <h5 class="modal-title line-head" id="cancel-changes-Label">Confirm</h5>
                                      <button type="button" class="btn iconHover pt-0 pb-0" data-bs-dismiss="modal"
                                          aria-label="Close"><i class="fal fa-times ice"></i></button>
                                  </div>
                                  <div class="modal-body py-4">
                                      <div class="d-flex align-items-center">
                                          <div class="icon-circle iconButton me-4 errorbg">
                                              <i class="fal fa-times"></i>
                                          </div>
                                          <p class="line-txt darkblue">Are you sure, you want to cancel the changes?
                                          </p>
                                      </div>
                                  </div>
                                  <div class="modal-footer">
                                      <button type="button" class="btn btn-outline-secondary"
                                          data-bs-dismiss="modal">Cancel</button>
                                      <button (click)="toasterMsg()" type="button"
                                          class="btn btn-danger modal_cancel-data"
                                          data-bs-dismiss="modal">Yes</button>
                                  </div>
                              </div>
                          </div>

                      </div>
                      <div class="modal fade" id="editsaveusermodal" tabindex="-1" aria-labelledby="saveModalLabel" aria-hidden="true">

                        <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title line-head" id="saveModalLabel">Confirm</h5>
                              <button type="button" class="btn iconHover pt-0 pb-0" data-bs-dismiss="modal" aria-label="Close"><i class="fal fa-times"></i></button>
                            </div>
                            <div class="modal-body p-5">
                             <div class="d-flex align-items-center">
                                <div class="icon-circle iconButton me-4">
                               <i class="fal fa-clipboard-check"></i>
                              </div>
                              <p class="line-txt darkblue">Are you sure, you want to save changes?</p>
                             </div>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                              <button type="button" class="btn skyBg modal_user-save" data-bs-dismiss="modal" (click)="editDevice()">Yes</button>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div class="ps-3 pe-3">
                          <div class="icon-buttons-wrapper d-flex justify-content-between pt-3 pb-4">
                              <div class="row w-100">
                                  <div class="col-md-4">


                                  </div>
                                  <div class="col-md-8 justify-content-end d-flex">
                                      <div class="buttons-wrap d-flex">

                                          <button type="button" class="btn btn-outline-secondary
                                               btn-medium me-2 px-4" data-bs-toggle="modal"
                                              data-bs-target="#cancel-changes">Cancel </button>

                                          <button type="button" data-bs-toggle="modal"
                                              data-bs-target="#editsaveusermodal"
                                              class="btn skyBg ms-2 px-4 btn-medium saveBtn">Save</button>

                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </footer>
              </form>
          </div>
      </div>
  </div>
</div>

<div class="position-fixed toast-bar border-0 shadow-sm rounded navyBg" style="z-index: 60">
  <div [ngClass]="toastermessage == true ? 'show' : 'hide'" class="toast border-0 p-2 h-100 navyBg fade" role="alert"
      aria-live="assertive" aria-atomic="true">
      <div class="d-flex border-0 justify-content-between align-items-center w-100 h-100">
          <p class="toast-line-para ice m-0">Your changes have been canceled!</p>
          <div class="toast-btn d-flex align-items-center">

              <button type="button" class="btn m-0 ms-2" aria-label="Close" data-bs-dismiss="toast"
                  (click)="closeToaster()"><i class="fal fa-times"></i></button>

          </div>
      </div>
  </div>
</div>


-->
