
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
  [fullScreen]="true"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>

<div class="content-box-wrapper d-flex w-100">
  <div class="middle-content d-flex">
    <div
      class="page-content-wrapper dashboard console-body-wrapper"
      data-scrollbar="true"
      tabindex="-1"
      style="overflow: auto; outline: none"
    >
      <div class="scroll-content">
        <div class="w-auto w-100 inbox-container chat-message-component">
          <div class="d-flex main-body-wrapper">
            <div class="agent-page-main-content">
              <div class="w-100 p-4">
                <h3>{{details?.vehicalDetails.vehicalBrand}} {{details?.vehicalDetails.model}}</h3>
                <div class="row mb-4">
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">License Plate No.</p>
                      <h6 class="m-0">{{details?.vehicalDetails.vehicalNo}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Vehicle Type</p>
                      <h6 class="m-0"> {{details?.vehicalDetails.vehicalType}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Vehicle Color</p>
                      <h6 class="m-0"> {{details?.vehicalDetails.vehicalColor}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Vehicle Brand</p>
                      <h6 class="m-0"> {{details?.vehicalDetails.makersName}}</h6>
                    </div>
                  </div>
                </div>

                <h5>Owner Details</h5>

                <div class="d-flex align-items-center my-4">
                  <div class="flex-shrink-0">
                    <div class="iconButton large fw-bold ">   
                      <a href="#0" data-bs-toggle="modal" data-bs-target="#imagepopup1"></a>            
                       <img 
                      [src]="details?.ownerDetails?.carrierImageUrl || 'assets/Images/dummy_profile_picture2.jpg'"
                      class="rounded-circle iconButton large img-fluid"
                      alt="..."
                    /></div>
                    <!-- <div class="iconButton large fw-bold skyBg">FS</div> -->
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="m-0">{{details?.ownerDetails?.carrierName}} </h6>
                    <p class="m-0">{{details?.ownerDetails?.employeeId}}</p>
                  </div>
                </div>

                <div class="row mb-4">
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Mobile</p>
                      <h6 class="m-0">{{details?.ownerDetails.mobileNo}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">City</p>
                      <h6 class="m-0">{{details?.ownerDetails.cityName}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Location</p>
                      <h6 class="m-0">{{details?.ownerDetails.locationName}}</h6>
                    </div>
                  </div>
                  <div class="col">
                    <div class="iceBg p-3">
                      <p class="coal m-0">Type</p>
                      <h6 class="m-0"> {{details?.vehicalDetails.carrierType}}</h6>
                    </div>
                  </div>
                </div>
                <h3>Logs</h3>
                <div class="filter-container">
                  <ul class="list-group list-group-horizontal border-0">
                    <li
                      class="list-group-item border-0 refreshicon"
                      id="refreshpage"
                      aria-label="..."
                      data-bs-toggle="tooltip"
                      data-bs-placement="bottom"
                      title=""
                      data-bs-original-title="Refresh"
                      (click)="reloadComponent()"
                    >
                      <i class="fal fa-redo"></i>
                    </li>
                    <li
                      class="list-group-item border-0 after-select-fun"
                      data-bs-toggle="modal"
                      data-bs-target="#delete-device"
                      aria-label="..."
                      data-bs-placement="bottom"
                      title="Delete"
                      style="display: none"
                    >
                      <i class="fal fa-trash"></i>
                    </li>
                    <li
                      class="list-group-item border-0 after-select-fun"
                      data-bs-toggle="modal"
                      data-bs-target="#disable-device"
                      aria-label="..."
                      data-bs-placement="bottom"
                      title="Disable"
                      style="display: none"
                    >
                      <i class="fal fa-ban"></i>
                    </li>
                  </ul>

                  <div class="pagination-bar">
                    <div class="dropdown">
                      <button
                        class="btn iconHover"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        1-8 of 8
                      </button>
                      <ul
                        class="dropdown-menu"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        <li><a class="dropdown-item" href="#">Newest</a></li>
                        <li><a class="dropdown-item" href="#"> Oldest</a></li>
                      </ul>
                    </div>

                    <span class="iconButton medium iconHover">
                      <i class="fal fa-chevron-left"></i>
                    </span>
                    <span class="iconButton medium iconHover">
                      <i class="fal fa-chevron-right"></i>
                    </span>
                  </div>
                </div>

                <div class="table-section table-scrool-y mb-3 query-container">
                  <div
                    class="alert alert-secondary text-center email-info-alert p-2"
                    role="alert"
                    style="display: none"
                  >
                    All <strong>8</strong> conversations on this page are
                    selected.
                    <a
                      href="javascript:void(0);"
                      class="all-conversation fw-bold sky btn"
                      >Select all 8 conversations in devices</a
                    >
                    <a
                      href="javascript:void(0);"
                      class="clear-selection"
                      style="display: none"
                      >Clear selection</a
                    >
                  </div>
                  <table class="table table-nowrap">
                    <thead>
                      <tr>
                        <th>
                          <!-- <div class="filter-container">
                            <ul
                              class="list-group list-group-horizontal border-0"
                            >
                              <li
                                class="list-group-item border-0 all-check-boxes"
                              >
                                <input
                                  class="form-check-input me-1"
                                  type="checkbox"
                                  aria-label="..."
                                  data-bs-toggle="tooltip"
                                  data-bs-placement="bottom"
                                  title=""
                                  data-bs-original-title="Check All"
                                />
                              </li>
                            </ul>
                          </div> -->
                        </th>
                        <th>Date Time</th>
                        <th>Camera</th>
                        <th>Location</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- <pre>{{details.anprLogsList | json}}</pre> -->
                      <tr *ngFor="let detail of details?.anprLogsList; let i = index">
                        <td>
                          <!-- <input
                            class="form-check-input me-1"
                            type="checkbox"
                            aria-label="..."
                          /> -->
                        </td>
                        <td>{{detail?.createdDate}}</td>
                        <td>{{detail?.deviceName}}</td>
                        <td>{{detail?.locationName}}</td>

                        <td>
                          <!-- <div
                            class="icons-list d-flex dropstart justify-content-end"
                          >
                            <button
                              class="btn iconButton small iconHover btn-group"
                              type="button"
                              data-bs-toggle="dropdown"
                              aria-expanded="false"
                            >
                              <i class="far fa-ellipsis-v"></i>
                            </button>
                            <ul class="dropdown-menu fade">
                              <li>
                                <a
                                  class="dropdown-item"
                                  href="../engage/edit-device-form.html"
                                >
                                  <i class="fal fa-edit me-2"></i> Edit</a
                                >
                              </li>

                              <li>
                                <a
                                  class="dropdown-item delete-dd"
                                  href="#"
                                  data-bs-toggle="modal"
                                  data-bs-target="#delete-device"
                                >
                                  <i class="fal fa-trash me-2"></i> Delete</a
                                >
                              </li>
                            </ul>
                          </div> -->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="scrollbar-track scrollbar-track-x" style="display: none">
        <div
          class="scrollbar-thumb scrollbar-thumb-x"
          style="width: 1289px; transform: translate3d(0px, 0px, 0px)"
        ></div>
      </div>
      <div class="scrollbar-track scrollbar-track-y" style="display: block">
        <div
          class="scrollbar-thumb scrollbar-thumb-y"
          style="height: 66.0156px; transform: translate3d(0px, 0px, 0px)"
        ></div>
      </div>
    </div>

    <div
      class="modal fade"
      id="delete-device"
      tabindex="-1"
      aria-labelledby="delete-device-Label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title line-head" id="delete-device-Label">
              Confirm
            </h5>
            <button
              type="button"
              class="btn iconHover pt-0 pb-0"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <i class="fal fa-times"></i>
            </button>
          </div>
          <div class="modal-body p-5">
            <div class="d-flex align-items-center">
              <div class="icon-circle iconButton me-4 errorbg">
                <i class="fal fa-trash"></i>
              </div>
              <p class="line-txt darkblue">
                Are you sure, you want to delete the device?
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="button"
              class="btn skyBg delete_device_toast"
              data-bs-dismiss="modal"
            >
              Yes
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="disable-device"
      tabindex="-1"
      aria-labelledby="delete-device-Label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title line-head" id="delete-device-Label">
              Confirm
            </h5>
            <button
              type="button"
              class="btn iconHover pt-0 pb-0"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <i class="fal fa-times"></i>
            </button>
          </div>
          <div class="modal-body p-5">
            <div class="d-flex align-items-center">
              <div class="icon-circle iconButton me-4 errorbg">
                <i class="fal fa-ban"></i>
              </div>
              <p class="line-txt darkblue">
                Are you sure, you want to disable the device?
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="button"
              class="btn skyBg disable_device_toast"
              data-bs-dismiss="modal"
            >
              Yes
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="position-fixed toast-bar border-0 shadow-sm rounded navyBg"
      style="z-index: 60"
    >
      <div
        class="toast hide border-0 p-2 h-100 navyBg"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div
          class="d-flex border-0 justify-content-between align-items-center w-100 h-100"
        >
          <p class="toast-line-para ice m-0"></p>
          <div class="toast-btn d-flex align-items-center">
            <button type="button" class="btn m-0 ms-2" data-bs-dismiss="toast">
              <i class="fal fa-times"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <div
  class="modal fade"
  id="imagepopup1"
  tabindex="-1"
  aria-labelledby="imagepopup-Label"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <img 
      [src]="user?.empPicUrl || 'assets/Images/dummy_profile_picture2.jpg'"
      class="img-fluid"
      alt="..."
    />
    </div>
  </div>
</div> -->