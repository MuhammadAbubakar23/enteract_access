<div class="agent-page-main-content">
  <form [formGroup]="locationForm">
    <div
      class="create-business-hour console-body-wrapper perfect-scrollbar"
      data-scrollbar="data-scrollbar"
    >
      <div class="wider-container pt-5">
        <div class="floating-item mb-4">
          <div
            [ngClass]="{
              'was-validated':
                locationForm.get('Name')!.valid &&
                locationForm.get('Name').touched
            }"
            class="floating-wrap form-floating"
          >
            <input
              [ngClass]="{
                'is-invalid':
                  locationForm.get('Name').errors &&
                  (locationForm.get('Name').touched ||
                    locationForm.get('Name').dirty)
              }"
              class="form-control"
              id="floatingInput"
              placeholder=" Name"
              value="IBEX 1"
              formControlName="Name"
            />
            <label for="floatingInputValue"> Name</label>
            <div
              class="invalid-feedback"
              *ngIf="
                locationForm.get('Name')!.errors &&
                (locationForm.get('Name')!.touched ||
                  locationForm.get('Name')!.dirty)
              "
            >
              <div
                *ngIf="locationForm.get('Name')!.errors?.['maxlength'] || locationForm.get('Name')!.errors?.['minlength']"
              >
                Team Name must be grater than 1 character and less than 25
                character!
              </div>
              <div *ngIf="locationForm.get('Name')!.errors?.['required']">
                Team Name is required!
              </div>
            </div>
            <div
              class="valid-feedback"
              *ngIf="
                locationForm.get('Name')!.valid &&
                locationForm.get('Name')!.touched
              "
            >
              Looks Good!
            </div>
          </div>
        </div>
        <div
          [ngClass]="{
            'was-validated':
              locationForm.get('Building_Type')!.valid &&
              locationForm.get('Building_Type').touched
          }"
          class="form-floating mb-4"
        >
          <select
            [ngClass]="{
              'is-invalid':
                locationForm.get('Building_Type').errors &&
                (locationForm.get('Building_Type').touched ||
                  locationForm.get('Building_Type').dirty)
            }"
            class="form-select"
            id="floatingSelect"
            aria-label="Floating label select example"
            formControlName="Building_Type"
          >
            <option>Building</option>
            <option>Warehouse</option>
            <option>Factory</option>
          </select>
          <label for="floatingSelect">Building Type</label>
          <div
            class="invalid-feedback"
            *ngIf="
              locationForm.get('Building_Type')!.errors &&
              (locationForm.get('Building_Type')!.touched ||
                locationForm.get('Building_Type')!.dirty)
            "
          >
            <div
              *ngIf="locationForm.get('Building_Type')!.errors?.['required']"
            >
              Please select Building Type!
            </div>
          </div>
          <div
            class="valid-feedback"
            *ngIf="
              locationForm.get('Building_Type')!.valid &&
              locationForm.get('Building_Type')!.touched
            "
          >
            Looks Good!
          </div>
        </div>
        <!-- <div class="mb-4 row">
                    <label for="area" class="col-sm-1 col-form-label">Area</label>
                    <div class="col-sm-10">
                        <input class="form-control" id="area" placeholder=" Name">
                    </div>
                    <div class="col-sm-1">
                        <span class="iconButton medium iconHover ms-3" id="addfield">
                            <i class="fal fa-plus"></i>
                        </span>
                    </div>
                </div> -->

        <!-- <div class="mb-4 row newfield d-none">
                    <label for="area" class="col-sm-1 col-form-label">Area</label>
                    <div class="col-sm-10">
                        <input class="form-control" id="area" placeholder=" Name">
                    </div>
                    <div class="col-sm-1">
                        <span class="iconButton medium iconHover ms-3">
                            <i class="fal fa-plus"></i>
                        </span>
                    </div>
                </div> -->

        <div class="mb-4 row" *ngFor="let floor of floors.controls; index as i">
          <label for="area" class="col-sm-1 col-form-label">Floor</label>
          <div class="col-sm-10">
            <input
              class="form-control"
              id="area"
              placeholder="Name"
              formControlName="floors.controls[i]"
            />
          </div>
          <div class="col-sm-1">
            <span class="iconButton medium iconHover ms-3 removefield">
              <i
                class="fal fa-trash"
                (click)="removeFloor(floors.controls[i])"
              ></i>
            </span>
          </div>
        </div>
        <div class="mb-4 ps-5 ms-2 addoption">
          <a class="btn btn-link" (click)="addFloor()">Add another</a>
        </div>

        <!-- Address -->
        <div class="floating-item mb-4">
          <div
            [ngClass]="{
              'was-validated':
                locationForm.get('Address')!.valid &&
                locationForm.get('Address').touched
            }"
            class="floating-wrap form-floating"
          >
            <input
              [ngClass]="{
                'is-invalid':
                  locationForm.get('Address').errors &&
                  (locationForm.get('Address').touched ||
                    locationForm.get('Address').dirty)
              }"
              class="form-control"
              id="floatingInput"
              placeholder=" Address"
              formControlName="Address"
            />
            <label for="floatingInputValue"> Address</label>
            <div
              class="invalid-feedback"
              *ngIf="
                locationForm.get('Address')!.errors &&
                (locationForm.get('Address')!.touched ||
                  locationForm.get('Address')!.dirty)
              "
            >
              <div *ngIf="locationForm.get('Address')!.errors?.['required']">
                Address is required!
              </div>
            </div>
            <div
              class="valid-feedback"
              *ngIf="
                locationForm.get('Address')!.valid &&
                locationForm.get('Address')!.touched
              "
            >
              Looks Good!
            </div>
          </div>
        </div>

        <div class="row mb-4">
          <div class="col-md-6">
            <div
              [ngClass]="{
                'was-validated':
                  locationForm.get('City_Id')!.valid &&
                  locationForm.get('City_Id').touched
              }"
              class="form-floating"
            >
              <select
                [ngClass]="{
                  'is-invalid':
                    locationForm.get('City_Id').errors &&
                    (locationForm.get('City_Id').touched ||
                      locationForm.get('City_Id').dirty)
                }"
                class="form-select"
                id="floatingSelect"
                aria-label="Floating label select example"
                formControlName="City_Id"
              >
                <option *ngFor="let city of Cities" [value]="city.id">
                  {{ city.name }}
                </option>
              </select>
              <label for="floatingSelect">Select City</label>
              <div
                class="invalid-feedback"
                *ngIf="
                  locationForm.get('City_Id')!.errors &&
                  (locationForm.get('City_Id')!.touched ||
                    locationForm.get('City_Id')!.dirty)
                "
              >
                <div *ngIf="locationForm.get('City_Id')!.errors?.['required']">
                  Please select city!
                </div>
              </div>
              <div
                class="valid-feedback"
                *ngIf="
                  locationForm.get('City_Id')!.valid &&
                  locationForm.get('City_Id')!.touched
                "
              >
                Looks Good!
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <select
                class="form-select"
                id="floatingSelect"
                formControlName="Country"
              >
                <option selected>Pakistan</option>
                <option value="1">USA</option>
                <option value="2">UAE</option>
                <option value="3">England</option>
              </select>
              <label for="floatingSelect">Select Country</label>
            </div>
          </div>
        </div>

        <!--
                <h6> Pin Location</h6>
                <div class="row align-items-center mb-4">
                    <div class="col">
                        <div class="floating-item">
                           <div class="floating-wrap form-floating">
                                <input class="form-control" id="floatingInput" placeholder="Enter longitude" formControlName="Longitude">
                                <label for="floatingInputValue">Add longitude</label>
                            </div>

                        </div>

                    </div>
                    <div class="col">
                        <div class="floating-item">
                            <div class="floating-wrap form-floating">
                                <input class="form-control" id="floatingInput" placeholder="Enter latitude" formControlName="Latitude">
                                <label for="floatingInputValue">Add latitude</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-1">

                        <span class="iconButton medium lightGreyBg">
                            <i class="fal fa-plus"></i>
                        </span>
                    </div>
                </div>
-->
        <div class="mapbox">
          <h5>Add Location</h5>
          <div id="map">
            <app-googlemaps
              (newItemEvent)="addlatlong($event)"
            ></app-googlemaps>
          </div>
        </div>
        <!-- Load the `mapbox-gl-geocoder` plugin. -->
      </div>
    </div>
  </form>
  <footer class="footer">
    <div class="ps-3 pe-3">
      <div
        class="icon-buttons-wrapper d-flex justify-content-between pt-3 pb-4"
      >
        <div class="row w-100">
          <div class="col-md-4"></div>
          <div class="col-md-8 justify-content-end d-flex">
            <div class="buttons-wrap d-flex">
              <button
                type="button"
                class="btn btn-outline-secondary btn-medium me-2 px-4"
                data-bs-toggle="modal"
                data-bs-target="#cancel-changes"
              >
                Cancel
              </button>

              <button
                type="button"
                class="btn btn-success ms-e f-saveBtn btn-large d-none"
              ></button>
              <button
                type="button"
                data-bs-toggle="modal"
                data-bs-target="#editsaveusermodal"
                class="btn skyBg ms-2 px-4 btn-medium saveBtn"
              >
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>

<div
  class="modal fade"
  id="cancel-changes"
  tabindex="-1"
  aria-labelledby="cancel-changes-Label"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title line-head" id="cancel-changes-Label">Confirm</h5>
        <button
          type="button"
          class="btn iconHover pt-0 pb-0"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <i class="fal fa-times ice"></i>
        </button>
      </div>
      <div class="modal-body py-4">
        <div class="d-flex align-items-center">
          <div class="icon-circle iconButton me-4 errorbg">
            <i class="fal fa-times"></i>
          </div>
          <p class="line-txt darkblue">
            Are you sure, you want to cancel the changes?
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-danger modal_cancel-data"
          data-bs-dismiss="modal"
        >
          Yes
        </button>
      </div>
    </div>
  </div>
</div>
<div
  class="modal fade"
  id="editsaveusermodal"
  tabindex="-1"
  aria-labelledby="saveModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title line-head" id="saveModalLabel">Confirm</h5>
        <button
          type="button"
          class="btn iconHover pt-0 pb-0"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <i class="fal fa-times ice"></i>
        </button>
      </div>
      <div class="modal-body py-4">
        <div class="d-flex align-items-center">
          <div class="icon-circle iconButton me-4">
            <i class="fal fa-clipboard-check"></i>
          </div>
          <p class="line-txt darkblue">
            Are you sure, you want to save changes?
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn skyBg modal_edit-user"
          data-bs-dismiss="modal"
          (click)="submitform()"
        >
          Yes
        </button>
      </div>
    </div>
  </div>
</div>
<div
  class="position-fixed toast-bar border-0 shadow-sm rounded navyBg"
  style="z-index: 60"
>
  <div
    class="toast hide border-0 p-2 h-100 navyBg"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div
      class="d-flex border-0 justify-content-between align-items-center w-100 h-100"
    >
      <p class="toast-line-para ice m-0"></p>
      <div class="toast-btn d-flex align-items-center">
        <button type="button" class="btn m-0 ms-2" data-bs-dismiss="toast">
          <i class="fal fa-times ice"></i>
        </button>
      </div>
    </div>
  </div>
</div>
