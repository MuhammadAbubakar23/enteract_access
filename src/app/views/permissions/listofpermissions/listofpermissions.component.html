<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
  [fullScreen]="true"
>
  <p style="color: white">Loading...</p>
</ngx-spinner>
<div class="main-wrapper d-flex">
    <div class="middle-wrapper d-flex w-100 flex-column">
        <div class="content-box-wrapper d-flex w-100">
            <div class="middle-content d-flex">
                <div class="page-content-wrapper">
                    <div class="w-auto chat-message-component inner-forms w-100">
                        <div class="d-flex main-body-wrapper">
                            <div class="agent-page-main-content">
                                <div class="query-container console-body-wrapper form-body-wrap perfect-scrollbar"
                                    data-scrollbar="data-scrollbar">
                                    <div class="p-4 w-100">
                                        <div class="filter-toolbar">
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <ul class="list-inline m-0 d-flex align-items-center">

                                                        <li class="list-inline-item">
                                                            <div class="searchbar-click">
                                                                <form class="searchbox">
                                                                    <input placeholder="Search" name="search"
                                                                        class="searchbox-input" required [(ngModel)]="search" (ngModelChange)="getAllPermissions()">
                                                                    <span class="searchbox-icon medium iconButton">
                                                                        <i class="fa fa-search"></i>
                                                                    </span>
                                                                </form>

                                                            </div>
                                                        </li>

                                                    </ul>

                                                </div>
                                                <div class="col-lg-6 d-flex align-items-center justify-content-end">

                                                    <a routerLink="/dashboard/listofpermissions/createpermission"
                                                        class="ms-2">
                                                        <button type="button" class="btn btn-success">
                                                            <i class="fal fa-plus"></i> Create Permission </button>
                                                    </a>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="table-section">
                                            <table class="table mb-5 align-middle">
                                                <thead>
                                                    <tr>
                                                        <th class="border-0">{{permissionCount}} Permissions</th>
                                                        <th class="border-0"></th>
                                                    </tr>
                                                    <tr>
                                                        <th class="silver pt-0">The first matching roles & permissions
                                                            will be applied to user with matching
                                                            conditions</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr *ngFor="let per of permissions">
                                                        <td>
                                                            <ul class="list-group list-group-flush">
                                                                <li
                                                                    class="list-group-item d-flex justify-content-between align-items-start p-0 pt-2 pb-2">
                                                                    <div class="ms-2 me-auto fw-normal coal">
                                                                        <div class="fw-bold night">{{per.name}}
                                                                            <!-- <span
                                                                                class="badge rounded-pill bg-secondary">Default</span> -->
                                                                        </div>
                                                                        {{per.description}}
                                                                    </div>
                                                                </li>
                                                            </ul>
                                                        </td>
                                                        <td>
                                                            <div
                                                                class="icons-list d-flex justify-content-end dropstart">
                                                                <button class="btn iconButton medium iconHover">
                                                                    <i class="fal fa-edit"></i>
                                                                </button>

                                                                <button
                                                                    class="btn iconButton medium iconHover btn-group"
                                                                    type="button" data-bs-toggle="dropdown"
                                                                    aria-expanded="false">
                                                                    <i class="far fa-ellipsis-v"></i>
                                                                </button>
                                                                <ul class="dropdown-menu fade">
                                                                    <li>
                                                                        <a class="dropdown-item" [routerLink]="['/dashboard/listofpermissions/editpermission/',per.name]" >Edit</a>
                                                                    </li>
                                                                    <li>
                                                                        <a class="dropdown-item" (click)="DeletePermission(per.name)">Delete</a>
                                                                    </li>

                                                                </ul>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>